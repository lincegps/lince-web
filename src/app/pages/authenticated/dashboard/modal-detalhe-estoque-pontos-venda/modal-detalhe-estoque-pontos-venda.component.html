<p-tabView
  (onChange)="obterEstoqueDetalhado($event.index + 1)"
  [style]="{ 'margin-top': '2px' }"
>
  <p-tabPanel header="Produtos">
    <div
      *ngIf="
        estoqueDetalhado.length > 0 && !loading;
        then templateEstoque;
        else templateLoading
      "
    ></div>
  </p-tabPanel>
  <p-tabPanel header="Assinaturas">
    <div
      *ngIf="
        estoqueDetalhado.length > 0 && !loading;
        then templateEstoque;
        else templateEmpty
      "
    ></div>
  </p-tabPanel>
</p-tabView>

<ng-template #templateEstoque>
  <ul class="list-group">
    <li
      class="list-group-item d-flex justify-content-between align-items-center"
      *ngFor="let item of estoqueDetalhado"
    >
      {{ item?.nomePontoVenda }}
      <span class="badge badge-primary badge-pill" style="font-size: 15px">{{
        item.quantidade
      }}</span>
    </li>
  </ul>
</ng-template>

<ng-template #templateLoading>
  <div
    class="d-flex justify-content-center"
    *ngIf="loading; else templateEmpty"
  >
    <div class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-template>

<ng-template #templateEmpty>
  <div class="d-flex justify-content-center">
    <h5>Nenhuma movimentação realizada para este produto</h5>
  </div>
</ng-template>
